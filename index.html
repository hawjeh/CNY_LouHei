<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta property="keywords" content="louhei sg, louhei, sg, chinese new year, chinese new year, happy tiger year, tiger year">
    <meta property="description" content="Websparks Wish You a Happy Chinese New Year 2022! Huat Ah!">
    <meta property="og:title" content="Chinese New Year 2022!">
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Websparks Wish You a Happy Chinese New Year 2022! Huat Ah!">
    <meta property="og:image" content="https://www.louhei.sg/assets/img/ws_0.png">
    <meta property="og:url" content="https://www.louhei.sg/">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <title>Chinese New Year 2022!</title>
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-5C4R24');
    </script>
    <!-- End Google Tag Manager -->
</head>

<body>
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-5C4R24" height="0" width="0"
            style="display:none;visibility:hidden"></iframe>
    </noscript>
    <iframe src="assets/voice/ws_bg.mp3" allow="autoplay" class="d-none"></iframe>
    <main class="container py-3">
        <div class="row">
            <div class="col">
                <ul class="social">
                    <li>
                        <a href="javascript:void(0)" aria-label="music" id="play" class="play"><span
                                class="fas"></span></a>
                    </li>
                    <li>
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://www.louhei.sg"
                            aria-label="facebook" target="_blank"><span class="fab fa-facebook-f"></span></a>
                    </li>
                    <li>
                        <a href="https://www.twitter.com/intent/tweet?url=https://www.louhei.sg&via=Websparks"
                            aria-label="twitter" target="_blank"><span class="fab fa-twitter"></span></a>
                    </li>
                    <li>
                        <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.louhei.sg"
                            aria-label="linkedin" target="_blank"><span class="fab fa-linkedin-in"></span></a>
                    </li>
                    <li>
                        <a href="https://www.instagram.com/websparkspteltd" aria-label="instagram" target="_blank"><span
                                class="fab fa-instagram"></span></a>
                    </li>
                    <li>
                        <a href="https://www.youtube.com/user/websparkstv" aria-label="youtube" target="_blank"><span
                                class="fab fa-youtube"></span></a>
                    </li>
                </ul>
                <div class="map">
                    <img src="assets/img/ws_tap.gif" step="0" id="tapme" class="louhei_sg position-absolute"
                        alt="Tap Me!" style="z-index: 100;">
                    <img src="assets/img/ws_0.png" step="0" class="louhei_sg" alt="Happy Chinese New Year!">
                    <img src="assets/img/ws_1.gif" step="1" class="louhei_sg d-none" alt="Nian Nian You Yu!" />
                    <img src="assets/img/ws_2.gif" step="2" class="louhei_sg d-none" alt="Da Ji Da Li!" />
                    <img src="assets/img/ws_3.gif" step="3" class="louhei_sg d-none" alt="Zhao Cai Jin Bao!" />
                    <img src="assets/img/ws_4.gif" step="4" class="louhei_sg d-none" alt="Cai Yuan Guang Jin!" />
                    <img src="assets/img/ws_5.gif" step="5" class="louhei_sg d-none" alt="Hong Yun Dang Tou!" />
                    <img src="assets/img/ws_6.gif" step="6" class="louhei_sg d-none" alt="Qing Chun Yong Zhu!" />
                    <img src="assets/img/ws_7.gif" step="7" class="louhei_sg d-none" alt="Bu Bu Gao Sheng!" />
                    <img src="assets/img/ws_8.gif" step="8" class="louhei_sg d-none" alt="Jin Yin Man Wu!" />
                    <img src="assets/img/ws_9.gif" step="9" class="louhei_sg d-none" alt="Huang Jin Man Di!" />
                    <img src="assets/img/ws_10.gif" step="10" class="louhei_sg d-none" alt="Tian Tian Mi Mi!" />
                    <img src="assets/img/ws_11.gif" step="11" class="louhei_sg d-none" alt="Ready to Lou Hei!" />
                    <img src="assets/img/ws_12.gif" step="12" class="louhei_sg d-none" alt="HUAT AH!" />
                    <div class="lucky-number d-none">
                        <img class="img-fluid tiger_mascot" src="./assets/img/lucky_number/Tiger-greeting-1.png" />
                        <div class="lucky-number-flip" id="new_lucky_draw_wrapper">
                          <img src="./assets/img/lucky_number/button.png" class="lucky-number-bg" />
                          <div class="lucky-number-flip-inner">
                            <div class="lucky-number-flip-number">
                              <p>CLICK HERE FOR<br />YOUR LUCKY NUMBER</p>
                            </div>
                          </div>
                        </div>
                        <img class="img-fluid tiger_mascot" src="./assets/img/lucky_number/Tiger-greeting-2.png" />
                    </div>
                </div>
                <p class="text-white text-center mt-3 footer">
                  Happy Chinese New Year 2022! Brought to you by
                  <a href="https://www.websparks.sg/" class="text-white" target="_blank" style="position: inherit; display: unset;"><img src="assets/img/logo_white.png" /></a>
                </p>
            </div>
        </div>
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous">
        </script>
    <script>
        $(document).ready(function () {
            var huatCounter = 1,
                maxHuat = 3;
            var maxStep = 12;
            var audioElement = new Audio();
            audioElement.volume = '1.0';

            $('.louhei_sg').click(function () {
                var currentStep = parseInt($(this).attr('step'));
                var nextStep = String(currentStep < maxStep ? currentStep + 1 : currentStep);

                $('.louhei_sg').each(function (i, ele) {
                    if (!$(ele).hasClass('d-none')) {
                        $(ele).addClass('d-none');
                    }

                    if ($(ele).attr('step') === nextStep) {
                        $(ele).removeClass('d-none');

                        if ($('#play').hasClass('pause')) {
                            $('#play').removeClass('pause');
                            $('#play').addClass('play');
                        }

                        if (nextStep === '11') return;
                        if (nextStep === '12') {
                            audioElement.src = 'assets/voice/ws_huat.m4a';
                            audioElement.addEventListener("ended", function () {
                                if (huatCounter < maxHuat) {
                                    audioElement.play();
                                }
                                huatCounter++;
                            }, true);
                            audioElement.play();

                            $('.lucky-number').removeClass('d-none');
                        } else {
                            audioElement.src = 'assets/voice/ws_' + nextStep + '.mp3';
                            $('iframe').contents().find('video').each(function () {
                                this.play();
                            });
                            setTimeout(() => {
                                audioElement.play();
                            }, 1500);
                        }
                    }
                });
            });

            $('#play').click(function () {
                if ($('#play').hasClass('pause')) {
                    $('#play').removeClass('pause');
                    $('#play').addClass('play');
                    $('iframe').contents().find('video').each(function () {
                        this.play();
                    });
                } else {
                    $('#play').addClass('pause');
                    $('#play').removeClass('play');

                    $('iframe').contents().find('video').each(function () {
                        this.pause();
                    });
                    huatCounter = 1;
                }
            });

            $('iframe').contents().find('video').each(function () {
                this.loop = true;
                this.volume = 0.2;
            });

            // flip the lucky number and generate 4 digits
            var flip = true;
            $('#new_lucky_draw_wrapper').click(function () {
                if (flip) {
                    var rotate = flip ? 'rotateY(180deg)' : 'rotateY(0deg)';
                    var rotateFlip = flip ? 'rotateY(0deg)' : 'rotateY(180deg)';
                    $('.lucky-number-bg').css('transform', rotate);
                    $('.lucky-number-flip-inner').css('transform', rotateFlip);
                    flip = !flip;
                    $('.lucky-number-flip p').addClass('d-none');
                    var luckyNumber = Math.floor(1000 + Math.random() * 9000);
                    setTimeout(() => {
                        $('.lucky-number-flip p').removeClass('d-none').addClass('number').html(luckyNumber).fadeIn(800);
                    }, 800);
                }
            })
        });

        // resize the louhei window to fit nicely to screen size bigger than 1200
        $(window).on('resize orientationchange load', function() {
          if($(window).width() > 1200) {
            var height = $(window).height() - $('.footer').outerHeight() - (4 * 16);
            $('.map').height(height);
          } else {
            $('.map').css('height', 'auto');
          }
        });
    </script>
</body>

</html>